(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{25:function(e,t,a){e.exports=a(37)},30:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),l=a.n(c),o=a(6),u=(a(30),a(1)),s=function(){return r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement(o.b,{to:"/",className:"brand-logo right",exact:!0},"People table"),r.a.createElement("ul",{id:"nav-mobile",className:"left hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement(o.b,{to:"/",exact:!0},"Home")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/people"},"People")))))},i=function(){return r.a.createElement("h1",null,"Home")},m=a(8),p=a(14),h=a.n(p),d=function(e){var t,a=function(e){var t=e.id,a=e.name,r=e.sex,c=e.born,l=e.died,o=e.age,s=e.century,i=e.father,m=e.mother,p=e.children,h=Object(u.f)(),d=Object(u.g)(),f="/people/".concat(a.replace(/\s/g,"-").toLowerCase());return{id:t,name:a,sex:r,born:c,died:l,age:o,century:s,father:i,mother:m,children:p,onSelect:Object(n.useCallback)((function(){h.push({pathname:f,search:d.search})}),[h,d,f]),path:f,location:d}}(e),c=a.id,l=a.name,o=a.sex,s=a.born,i=a.died,p=a.age,d=a.century,f=a.father,b=a.mother,E=a.children,v=a.onSelect,g=a.path,j=a.location;return r.a.createElement("tr",{className:h()((t={person:!0},Object(m.a)(t,"person--lived-in-".concat(d),!0),Object(m.a)(t,"person--male","m"===o),Object(m.a)(t,"person--female","f"===o),Object(m.a)(t,"person--selected",j.pathname===g),t)),onClick:v},r.a.createElement("td",null,c),r.a.createElement("td",{className:h()({"person--ancient":s<1650})},l),r.a.createElement("td",null,o),r.a.createElement("td",null,s),r.a.createElement("td",null,i),r.a.createElement("td",{className:h()({"person--long-liver":p>=65})},p),r.a.createElement("td",null,d),r.a.createElement("td",null,f),r.a.createElement("td",null,b),r.a.createElement("td",null,E))},f=function(e){var t=e.people,a=e.handleSort;return r.a.createElement("table",{className:"people__table highlight"},r.a.createElement("thead",null,r.a.createElement("tr",null,["ID","Name","Sex","Born","Died","Age","Century","Father","Mother","Children"].map((function(e){return r.a.createElement("th",{key:e,onClick:a},e)})))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement(d,e))}))))},b=a(19),E=a(9),v=a.n(E),g=a(18),j=a(13),O=a(20),y=function(){var e=Object(j.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var w=function(e,t){var a;return function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];clearTimeout(a),a=setTimeout((function(){e.apply(void 0,r)}),t)}},x=function(){var e=Object(u.f)(),t=Object(u.g)(),a=new URLSearchParams(t.search),r=a.get("query")||"",c=a.get("sortBy"),l=a.get("sortOrder"),o=Object(n.useState)([]),s=Object(O.a)(o,2),i=s[0],m=s[1],p=Object(n.useState)(r),h=Object(O.a)(p,2),d=h[0],f=h[1];Object(n.useEffect)((function(){(function(){var e=Object(j.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,m(t.map((function(e,a){return Object(g.a)(Object(g.a)({},e),{},{id:a+1,age:e.died-e.born,century:Math.ceil(e.died/100),mother:e.mother?e.mother:"----",father:e.father?e.father:"----",children:t.filter((function(t){return t.father===e.name||t.mother===e.name})).map((function(e){return e.name})).join(", ")||"----"})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var E=w((function(){e.push({search:a.toString()})}),500),x=Object(n.useCallback)((function(e){var t=e.target.value.trim();a.set("query",t.toLowerCase()),(a.get("query")||"").trim()||a.delete("query"),f(t),E()}),[a,E]),C=Object(n.useMemo)((function(){return i.filter((function(e){return(e.name+e.mother+e.father).toLowerCase().includes(r)}))}),[i,r]);C=Object(n.useMemo)((function(){return function(e,t,a){var n=Object(b.a)(e).sort((function(e,a){return"string"===typeof e[t]?e[t].localeCompare(a[t]):e[t]-a[t]}));return"desc"===a?n.reverse():n}(Object(b.a)(C),c,l)}),[C,l,c]);var S=Object(n.useCallback)((function(t){var n=t.target.textContent.toLowerCase();c!==n?(a.set("sortBy",n),a.set("sortOrder","asc")):a.set("sortOrder","asc"===l?"desc":"asc"),e.push({search:a.toString()})}),[e,a,l,c]);return{inputValue:d,searchPeople:x,searchedPeople:C,handleSort:S}},C=function(){var e=x(),t=e.inputValue,a=e.searchPeople,n=e.searchedPeople,c=e.handleSort;return r.a.createElement("div",{className:"container"},r.a.createElement("input",{type:"text",value:t,placeholder:"Type something to search people...",onChange:a}),r.a.createElement(f,{people:n,handleSort:c}))},S=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(s,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0,component:i}),r.a.createElement(u.a,{path:"/people",component:C})))};l.a.render(r.a.createElement(o.a,null,r.a.createElement(S,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.06c26877.chunk.js.map
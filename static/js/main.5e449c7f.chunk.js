(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{25:function(e,t,n){e.exports=n(37)},30:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),l=n.n(c),o=n(6),u=(n(30),n(1)),s=function(){return r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement(o.b,{to:"/",className:"brand-logo right",exact:!0},"People table"),r.a.createElement("ul",{id:"nav-mobile",className:"left hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement(o.b,{to:"/",exact:!0},"Home")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/people"},"People")))))},i=function(){return r.a.createElement("h1",null,"Home")},m=n(8),p=n(14),h=n.n(p),d=function(e){var t,n=function(e){var t=e.id,n=e.name,r=e.sex,c=e.born,l=e.died,o=e.age,s=e.century,i=e.father,m=e.mother,p=e.children,h=Object(u.f)(),d=Object(u.g)(),f="/people/".concat(n.replace(/\s/g,"-").toLowerCase());return{id:t,name:n,sex:r,born:c,died:l,age:o,century:s,father:i,mother:m,children:p,onSelect:Object(a.useCallback)((function(){h.push({pathname:f,search:d.search})}),[h,d,f]),path:f,location:d}}(e),c=n.id,l=n.name,o=n.sex,s=n.born,i=n.died,p=n.age,d=n.century,f=n.father,b=n.mother,E=n.children,v=n.onSelect,g=n.path,j=n.location;return r.a.createElement("tr",{className:h()((t={person:!0},Object(m.a)(t,"person--lived-in-".concat(d),!0),Object(m.a)(t,"person--male","m"===o),Object(m.a)(t,"person--female","f"===o),Object(m.a)(t,"person--selected",j.pathname===g),t)),onClick:v},r.a.createElement("td",null,c),r.a.createElement("td",{className:h()({"person--ancient":s<1650})},l),r.a.createElement("td",null,o),r.a.createElement("td",null,s),r.a.createElement("td",null,i),r.a.createElement("td",{className:h()({"person--long-liver":p>=65})},p),r.a.createElement("td",null,d),r.a.createElement("td",null,f),r.a.createElement("td",null,b),r.a.createElement("td",null,E))},f=function(e){var t=e.people,n=e.handleSort;return r.a.createElement("table",{className:"people__table highlight"},r.a.createElement("thead",null,r.a.createElement("tr",null,["ID","Name","Sex","Born","Died","Age","Century","Father","Mother","Children"].map((function(e){return r.a.createElement("th",{key:e,onClick:function(){return n(e)}},e)})))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(d,Object.assign({key:e.id},e))}))))},b=n(24),E=n(9),v=n.n(E),g=n(18),j=n(13),O=n(19),y=function(){var e=Object(j.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var w=function(e,t){var n;return function(){for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];clearTimeout(n),n=setTimeout((function(){e.apply(void 0,r)}),t)}};function C(e){return"string"===typeof e}function x(e){return"number"===typeof e}var S=function(){var e=function(){var e=Object(u.f)(),t=Object(u.g)(),n=new URLSearchParams(t.search),r=n.get("query")||"",c=n.get("sortBy"),l=n.get("sortOrder"),o=Object(a.useState)([]),s=Object(O.a)(o,2),i=s[0],m=s[1],p=Object(a.useState)(r),h=Object(O.a)(p,2),d=h[0],f=h[1];Object(a.useEffect)((function(){(function(){var e=Object(j.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,m(t.map((function(e,n){return Object(g.a)(Object(g.a)({},e),{},{id:n+1,age:e.died-e.born,century:Math.ceil(e.died/100),mother:e.mother?e.mother:"----",father:e.father?e.father:"----",children:t.filter((function(t){return t.father===e.name||t.mother===e.name})).map((function(e){return e.name})).join(", ")||"----"})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var E=w((function(){e.push({search:n.toString()})}),500),S=Object(a.useCallback)((function(e){var t=e.target.value.trim();n.set("query",t.toLowerCase()),(n.get("query")||"").trim()||n.delete("query"),f(t),E()}),[n,E]),k=Object(a.useMemo)((function(){return i.filter((function(e){return(e.name+e.mother+e.father).toLowerCase().includes(r)}))}),[i,r]);k=Object(a.useMemo)((function(){return Object(b.a)(k).sort((function(e,t){var n=e[c],a=t[c];return C(n)&&C(a)?"desc"===l?a.localeCompare(n):n.localeCompare(a):x(n)&&x(a)?"desc"===l?a-n:n-a:0}))}),[k,l,c]);var N=Object(a.useCallback)((function(t){var a=t.toLowerCase();c!==a?(n.set("sortBy",a),n.set("sortOrder","asc")):n.set("sortOrder","asc"===l?"desc":"asc"),e.push({search:n.toString()})}),[e,n,l,c]);return{inputValue:d,searchPeople:S,searchedPeople:k,handleSort:N}}(),t=e.inputValue,n=e.searchPeople,c=e.searchedPeople,l=e.handleSort;return r.a.createElement("div",{className:"container"},r.a.createElement("input",{type:"text",value:t,placeholder:"Type something to search people...",onChange:n}),r.a.createElement(f,{people:c,handleSort:l}))},k=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(s,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0,component:i}),r.a.createElement(u.a,{path:"/people",component:S})))};l.a.render(r.a.createElement(o.a,null,r.a.createElement(k,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.5e449c7f.chunk.js.map